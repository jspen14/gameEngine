#ifndef ExploiterExpert_H
#define ExploiterExpert_H

#include "defs.h"
#include "Game.h"
#include "Expert.h"
#include "igNBS.h"
#include "TriggerStrat.h"

class ExploiterExpert : public Expert {
public:
	ExploiterExpert();
    ExploiterExpert(int _me, igNBS *_ignbs);
	~ExploiterExpert();

    void init(Game *_g);
    void Reset();
    double getPotential();
    void selectAction(Game *_g);
    void update(int acts[2], double payoffs[2], bool active);
    void produceStartCheapTalk(char *buf);
    void processStartCheapTalk(char *buf);
    void extractJointAction(char *buf);
    const char *whoAmI();
    bool matchesPlan(int proposal[2]);
    
    int chooseTheBest(Game *_g, int act_other);
    
    int me, t;
    double potential;
    int ja[2];
    double projectedPayoff[2];
    
    Game *g;
    
    TriggerStrat *backup;
    //double upperBound, lowerBound;
    int targetDir;
    double targetInc;
};

#endif